<% content_for :title, "My Notes" %>
<div class="notes-container">
  <div class="index-header">
    <h1>My Notes</h1>
    <div class="index-links">
      <%= link_to "All Books", books_path, class: "button button-primary" %>
      <%= link_to "New Note", new_note_path, class: "button button-primary" %>
    </div>
  </div>
  <div class="notes-grid">
    <% @notes.each do |note| %>
      <%= link_to note, class: "note-card" do %>
        <h2 class="note-card-title"><%= note.title %></h2>
        <div class="note-card-content">
          <%# `strip_tags` removes HTML from the rich text for a plain text preview %>
          <%= truncate(strip_tags(note.content.to_s), length: 100) %>
        </div>
      <% end %>
    <% end %>
  </div>
  <% if @notes.empty? %>
    <div class="notes-empty-state">
      <h3>You don't have any notes yet.</h3>
      <p>Get started by creating a new one!</p>
    </div>
  <% end %>
</div>